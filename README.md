# TodoView
Свой фронтенд-клиент для Todoist

![Screenshot](screenshots/calendar.png)

## Первый запуск
1. Установить nvm https://github.com/nvm-sh/nvm - Менеджер версий node, через него можно быстро устанавливать и переключать версии ноды
2. В корне проекта выполнить`nvm use`, nvm автоматически подхватит версию ноды из .nvmrc и переключит на нее. В первый раз надо сделать `nvm install` чтобы эту версию установить, в следующие разы только `nvm use`
3. Запустить в корне `pnpm i` - это установит зависимости в node_modules
4. Скопировать .env.example и переименовать в .env
5. `pnpm dev` чтобы запустить сервер

## Скрипты для разработки
Рекомендуется использовать пакетный менеджер pnpm, ввиду его большей производительности. Но можно использовать и другие: npm, yarn и тп

- **`dev`**:  
  Запускает приложение в режиме разработки. Используется для локальной разработки с поддержкой горячей перезагрузки.  
  **Команда**: `pnpm dev`

- **`build`**:  
  Выполняет проверку типов и собирает проект для продакшена.  
  **Команда**: `pnpm build`

- **`preview`**:  
  Предоставляет возможность предпросмотра собранного приложения перед его деплоем.  
  **Команда**: `pnpm preview`

- **`lint`**:  
  Запускает линтер для проверки и автоматического исправления кода с использованием ESLint.  
  **Команда**: `pnpm lint`

- **`lint:ts`**:  
  Проверяет ошибки типов
  **Команда**: `pnpm lint:ts`

- **`test`**:
  Запускает все тесты один раз с помощью Vitest. Удобно для запуска тестов перед коммитом или деплоем.
  **Команда**: `pnpm test`

- **`test:watch`**:
  Запускает тесты в режиме наблюдения. При изменении файлов тесты автоматически перезапускаются. Полезно при разработке.
  **Команда**: `pnpm test:watch`

- **`test:coverage`**:
  Запускает тесты и отображает отчёт по покрытию кода. Используется для оценки полноты тестирования проекта.
  **Команда**: `pnpm test:coverage`

## Описание архитектуры

В качестве архитектурной методологии используется FSD, подробнее - https://feature-sliced.github.io/documentation/

## Описание переменных окружения

- `VITE_TODOIST_CLIENT_ID`:  
  Идентификатор клиента в системе Todoist. Получается при регистрации приложения в Todoist Developer Console.

- `VITE_TODOIST_CLIENT_SECRET`:  
  Секрет клиента. Используется на серверной стороне для обмена кода авторизации на access token. Не должен попадать в публичный репозиторий.

- `VITE_TODOIST_REDIRECT_URI`:  
  URI, на который будет происходить редирект после авторизации пользователя в Todoist. Должен быть указан в настройках приложения в Todoist.
  **Пример**: `https://todoview.com/redirect-page`

- `VITE_TODOIST_STATE_STRING`:  
  Произвольная строка (чаще всего случайная), используемая для защиты от CSRF-атак при авторизации (state parameter).

## Используемые зависимости

В проекте используются следующие зависимости:

- [React](https://react.dev/) для построения пользовательского интерфейса
- [TypeScript](https://www.typescriptlang.org/) для проверки типов
- [Zustand](https://zustand.docs.pmnd.rs/) для управления состоянием в React
- [Tanstack Query](https://tanstack.com/query) для работы с сервером  
- [Todoist API TS](https://doist.github.io/todoist-api-typescript/) для удобной и типизированой работы с API Todoist
- [DNDKit](https://dndkit.com/) для реализации drag-and-drop функциональности
- [Dayjs](https://day.js.org/) для работы с датами и временем (лёгкая альтернатива Moment.js)
- [React Router](https://reactrouter.com/) для маршрутизации на стороне клиента
- [Flaticon Uicons](https://www.npmjs.com/package/@flaticon/flaticon-uicons) для использования иконок из библиотеки Flaticon UIcons
- [Vite](https://vite.dev/) для сборки приложения
- [Vitest](https://vitest.dev/) для тестирования TypeScript кода
- [Testing Library](https://testing-library.com/) для тестирования компонентов React
- [ESLint](https://eslint.org/) для улучшения качества кода